# CEREBRO-RED v2 Environment Configuration
# Copy this file to .env and customize: cp .env.example .env

# Application
CEREBRO_HOST=0.0.0.0
CEREBRO_PORT=9000
CEREBRO_ENV=production
CEREBRO_DEBUG=false # Debug mode (off in production)

CEREBRO_DEMO_MODE=false # Enable read-only demo API with mock data (true for public deploys)
# Logging
CEREBRO_LOG_LEVEL=INFO
CEREBRO_VERBOSITY=1

# Database
DATABASE_URL=sqlite+aiosqlite:////app/data/cerebro.db
AUDIT_LOG_PATH=/app/data/audit_logs

# LLM Provider
DEFAULT_LLM_PROVIDER=ollama

# Ollama
OLLAMA_API_BASE=http://host.docker.internal:11434
OLLAMA_BASE_URL=http://host.docker.internal:11434
OLLAMA_HOST=http://host.docker.internal:11434
OLLAMA_MODEL_ATTACKER=qwen3:8b
OLLAMA_MODEL_TARGET=qwen2.5:3b
OLLAMA_MODEL_JUDGE=qwen3:8b

# Azure OpenAI (optional)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# OpenAI (optional)
OPENAI_API_KEY=

# API Security
API_KEY=
API_KEY_ENABLED=false

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000,http://localhost:9000
CORS_CREDENTIALS=true

# ============================================================================
# Performance & Resource Management
# ============================================================================

# Database Pool Settings (for PostgreSQL/MySQL, not used with SQLite)
# Connection pool size - number of connections to keep open (default: 20)
DATABASE_POOL_SIZE=20
# Maximum overflow - additional connections beyond pool_size when needed (default: 10)
DATABASE_MAX_OVERFLOW=10

# Concurrency Limits
# Maximum concurrent experiments running simultaneously (default: 5)
MAX_CONCURRENT_EXPERIMENTS=5
# Maximum concurrent LLM prompts per experiment (default: 5)
MAX_CONCURRENT_PROMPTS=5

# LLM Request Settings
# Timeout for LLM requests in seconds (default: 60)
LLM_TIMEOUT=60
# Number of retry attempts for failed LLM requests (default: 3)
RETRY_ATTEMPTS=3
# Delay between retries in seconds (default: 5)
RETRY_DELAY=5

# ============================================================================
# Logging Configuration
# ============================================================================

# Log format: text (human-readable) or json (structured logging)
# Use 'json' for production with log aggregation tools
LOG_FORMAT=text
